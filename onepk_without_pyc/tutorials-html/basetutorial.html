<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at Aug 18, 2014
 | Rendered using Apache Maven Fluido Skin 1.2.2
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>onePK Python Tutorials - Element Service Set Tutorials - Creating an authorized session to a Network Element from a onePK-enabled application</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>

    
    <meta http-equiv="Content-Language" content="en" />
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>onePK Python Tutorials</h2>
                </div>
                      </div>
        <div class="pull-right">                  <a href="http://www.cisco.com/go/onepk" id="bannerRight">
                                                                                                <img src="images/cisco-logo.png" />
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2014-08-18</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.3.0.181</li>
                      
                
            
      
                            </ul>
      </div>

            <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
            
                                    <h3>Main</h3>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Home">Home</a>
            </li>
          </ul>
                        <h3>Tutorials</h3>
                  <ul>
                  <li class="none">
                          <a href="./basetutorial.html" title="Connecting to a Network Element">Connecting to a Network Element</a>
            </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="index.html#Base_Service_Set_Tutorials" title="Base Service Set Tutorials">Base Service Set Tutorials</a>
                  </li>
          </ul>
                      
            
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
        <div id="bodyColumn"  class="span10" >
                                  
            <div class="section"><h2><a name="Connecting_to_a_Network_Element_Tutorial">Connecting to a Network Element Tutorial</a></h2>
<p><a href="mailto:onePK-feedback@cisco.com?subject=Java tutorials" class="externalLink">Feedback</a></p>
<p><b>Contents</b></p>
<ul><li><a href="#Connecting_to_a_Network_Element_Tutorial">Connecting to a Network Element Tutorial</a></li>
<li><a href="#Goal">Goal</a></li>
<li><a href="#Tutorial_Code">Tutorial Code</a></li>
<li><a href="#RequirementsPrerequisites">Requirements/Prerequisites</a></li>
<li><a href="#Steps_In_Detail">Steps In Detail</a></li>
<li><a href="#Result">Result</a></li>
<li><a href="#Next_Steps">Next Steps</a></li>
</ul>
</div>
<div class="section"><h2><a name="Goal">Goal</a></h2>
<p>This tutorial describes how to connect to a Network Element to obtain a Session Handle.</p>
<p>The flow is illustrated in the following figure:</p>
<img src="images/base_tutorial.jpg" /></div>
<div class="section"><h2><a name="Tutorial_Code">Tutorial Code</a></h2>
<p>The code used in this tutorial is available in the BaseTutorial.java file located under &lt;SDK Location&gt;\/java/tutorials/BaseTutorial.java. </p>
</div>
<div class="section"><h2><a name="RequirementsPrerequisites">Requirements/Prerequisites</a></h2>
<p>To connect to a network element, your application must have the following information available:</p>
<ul><li>Network Element hostname/IP address.</li>
<li>Application authentication credentials, that is, username and password.</li>
</ul>
<p>The network element hostname or IP address, username and password are provided for this tutorial in the tutorial.properties file. If the tutorial.properties file is not found, then arguments from the command line are used.</p>
</div>
<div class="section"><h2><a name="Steps_In_Detail">Steps In Detail</a></h2>
<p>The BaseTutorial obtains a network_application instance, sets the name to applicationName, then gets a network_element for the IP address. The IP address is derived from either the command line arguments or the tutorial.properties file, both sources via the string format and an InetAddress formed from the IP address string. When these network element properties have been obtained, the tutorial then tries to connect to the network element with the username and password supplied, or from the tutorial.properties file.</p>
<p>This tutorial uses the following variables:</p>
<div class="source"><pre class="prettyprint">element_hostname = None
username = None
password = None
transport = &quot;tls&quot;
network_element = None
session_handle = None
root_cert_path = None
client_cert_path = None
client_key_path = None
key_passphrase = None
tls_pinning_file = None

args = None
</pre>
</div>
<p>Instantiate a network_application instance.</p>
<div class="source"><pre class="prettyprint">network_application = NetworkApplication.get_instance()
</pre>
</div>
<p>Optionally set the application name. The network_application name is the identifier for the onePK application. (This identifier is used by show commands and to authorize access to the network services provided by the network element. Use of the network_application name is optional if the AAA functionality provided is unable to interact with a TACACS server.)</p>
<div class="source"><pre class="prettyprint">network_application.name = applicationName
</pre>
</div>
<p>From the application instance, obtain a network_element directly by providing the IP address, in String or InetAddress formats.</p>
<div class="source"><pre class="prettyprint">self.network_element = network_application.get_network_element(self.element_hostname)
</pre>
</div>
<p>OR</p>
<div class="source"><pre class="prettyprint"></pre>
</div>
<p>Connect to the network element to establish the session with authentication credentials and session configuration data. If the user is successfully authenticated, then a session_handle is returned. </p>
<div class="source"><pre class="prettyprint">        session_config = SessionConfig(SessionConfig.SessionTransportMode.TLS) #default is TLS
        if self.transport.lower() == &quot;tipc&quot; or self.transport == &quot;2&quot;:
            session_config = SessionConfig(SessionConfig.SessionTransportMode.TIPC)

        #Set all the TLS properties in session_config
        session_config.ca_certs = self.root_cert_path
        session_config.keyfile = self.client_key_path
        session_config.certfile = self.client_cert_path
        session_config.set_tls_pinning(self.tls_pinning_file, PinningHandler(self.tls_pinning_file))

        self.session_handle = self.network_element.connect(self.username, self.password, session_config)
</pre>
</div>
</div>
<div class="section"><h2><a name="Result">Result</a></h2>
<p>Congratulations! You have successfully connected to the network element with the appropriate credentials. Use this tutorial to connect to you network element before attempting any of the other tutorials.</p>
</div>
<div class="section"><h2><a name="Next_Steps">Next Steps</a> </h2>
<ul><li><a href="./Discovery/discoverytutorial.html">Discovering Network Element Service Set Properties Tutorial</a></li>
<li><a href="./NetworkElement/syslogeventstutorial.html">Syslog Events Tutorial</a></li>
<li><a href="./NetworkInterface/networkinterfacetutorial.html">Basic Network Interface Tutorial</a> </li>
<li><a href="./NetworkInterface/interfaceaddresstutorial.html">Interface Address Tutorial</a></li>
<li><a href="./NetworkInterface/interfacestatechangetutorial.html">Interface State Change Tutorial</a></li>
<li><a href="./NetworkInterface/interfacestatisticstutorial.html">Interface Statistics Tutorial</a></li>
</ul>
</div>

                  </div>
            </div>
      
    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2014.
          All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
