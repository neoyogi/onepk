<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at Aug 18, 2014
 | Rendered using Apache Maven Fluido Skin 1.2.2
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>onePK Python Tutorials - Application CLI Extension Configuration</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido.min.js"></script>

    
    <meta http-equiv="Content-Language" content="en" />
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>onePK Python Tutorials</h2>
                </div>
                      </div>
        <div class="pull-right">                  <a href="http://www.cisco.com/go/onepk" id="bannerRight">
                                                                                                <img src="../images/cisco-logo.png" />
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2014-08-18</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.3.0.181</li>
                      
                
            
      
                            </ul>
      </div>

            <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
            
                                    <h3>Main</h3>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="Home">Home</a>
            </li>
          </ul>
                        <h3>Tutorials</h3>
                  <ul>
                  <li class="none">
                          <a href=".././basetutorial.html" title="Connecting to a Network Element">Connecting to a Network Element</a>
            </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li class="expanded">
                          <a href="../index.html#Base_Service_Set_Tutorials" title="Base Service Set Tutorials">Base Service Set Tutorials</a>
                    <ul>
                                                                        <li class="collapsed">
                          <a href="../SessionTutorial/SessionTutorials.html" title="Session Handling">Session Handling</a>
                  </li>
                                                                                                            <li class="collapsed">
                          <a href="../NetworkElement/networkelement.html" title="Element">Element</a>
                  </li>
                                                                                                                                                <li class="collapsed">
                          <a href="../NetworkInterface/networkinterface.html" title="Network Interface">Network Interface</a>
                  </li>
                                                                                                                                                                  <li class="collapsed">
                          <a href="../Events/events.html" title="Events">Events</a>
                  </li>
                                                                                          <li class="collapsed">
                          <a href="../Discovery/discovery.html" title="Discovery">Discovery</a>
                  </li>
                                                                                                    <li class="expanded">
                          <a href="../Management/management.html" title="Application CLI Extension">Application CLI Extension</a>
                    <ul>
                      <li class="none">
            <strong>Application CLI Extension Configuration Tutorial</strong>
          </li>
                      <li class="none">
                          <a href="../Management/applicationmanageddatatutorial.html" title="Application CLI Extension Tutorial">Application CLI Extension Tutorial</a>
            </li>
              </ul>
        </li>
                                                                                          <li class="collapsed">
                          <a href="../AAATutorial/AAAOverview.html" title="AAA">AAA</a>
                  </li>
                                                                        <li class="collapsed">
                          <a href="../VTYTutorial/vty.html" title="VTY">VTY</a>
                  </li>
                                                                                          <li class="collapsed">
                          <a href="../Policy/policy.html" title="Policy">Policy</a>
                  </li>
                                                                                          <li class="collapsed">
                          <a href="../Routing/routing.html" title="Routing">Routing</a>
                  </li>
                                                                        <li class="collapsed">
                          <a href="../Location/location.html" title="Location">Location</a>
                  </li>
                                                                        <li class="collapsed">
                          <a href="../Identity/identity.html" title="Identity">Identity</a>
                  </li>
              </ul>
        </li>
          </ul>
                      
            
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
        <div id="bodyColumn"  class="span10" >
                                  
            <div class="section"><h2><a name="Application_CLI_Extension_Configuration_Tutorial">Application CLI Extension Configuration Tutorial</a></h2>
<p><a href="http://developer.cisco.com/web/onepk/community" class="externalLink">For questions, read the onePK Forums</a></p>
<p><b>Contents</b></p>
<ul><li><a href="#Application_CLI_Extension_Configuration_Tutorial">Application CLI Extension Configuration Tutorial</a></li>
<li><a href="#Goal">Goal</a></li>
<li><a href="#RequirementsPrerequisites">Requirements/Prerequisites</a></li>
<li><a href="#Steps_In_Detail">Steps In Detail</a><ul><li><a href="#Define_a_onePK_Application_CLI_Command">Define a onePK Application CLI Command</a></li>
<li><a href="#Describe_the_CLI_Command_in_XML">Describe the CLI Command in XML</a></li>
<li><a href="#Validate_the_XML_file">Validate the XML file</a></li>
<li><a href="#Convert_XML_to_XSD">Convert XML to XSD</a></li>
<li><a href="#Using_Conversion_Tools_for_XML_-_XSD">Using Conversion Tools for XML -&gt; XSD</a></li>
<li><a href="#Install_the_Application-Specific_XSD_File">Install the Application-Specific XSD File</a></li>
<li><a href="#Application-Specific_Commands_Usage">Application-Specific Commands Usage</a></li>
</ul>
</li>
<li><a href="#Result">Result</a></li>
<li><a href="#Next_Steps">Next Steps</a></li>
</ul>
</div>
<div class="section"><h2><a name="Goal">Goal</a></h2>
<p>This tutorial demonstrates the pre-configuration needed for the <a href="./applicationmanageddatatutorial.html">Application CLI Extension Tutorial</a>. The necessary steps are: </p>
<ul><li>Write an XML file based on the XSD extensions schema file defining its configuration and EXEC commands</li>
<li>Run the XSLT convertor tool using a browser or any available XSLT interpreter against the XML file you have written</li>
<li>Install the newly created XSD file to your connected device</li>
<li>Show the newly installed Application CLI Extension commands on your connected device</li>
</ul>
</div>
<div class="section"><h2><a name="RequirementsPrerequisites">Requirements/Prerequisites</a></h2>
<p>These steps assume that you have a network element running a network operating system (NOS).</p>
</div>
<div class="section"><h2><a name="Steps_In_Detail">Steps In Detail</a></h2>
<div class="section"><h3><a name="Define_a_onePK_Application_CLI_Command">Define a onePK Application CLI Command</a> </h3>
<p>The following resources are provided at: &lt;SDK Location&gt;/python/tutorials/applmgmt/</p>
<ul><li><b>cli_ext_schema.xsd</b> - You define CLI commands in an XML file following the format of this schema file.</li>
<li><b>xml2xsd-convertor.xslt</b> - You convert your XML file using the XSLT converter tool to generate an application-specific XSD file.</li>
<li><b>cli_ext_tutorial_app.xml</b> - This XML properties file is defined for this tutorial and is based on the schema provided (cli_ext_schema.xsd)</li>
<li><b>cli_ext_tutorial_app.xsd</b> - This is the application-specific XSD file for this tutorial, converted from cli_ext_tutorial_app.xml using xml2xsd-convertor.xslt. This XSD file is used to install the new application CLIs in the network element.</li>
</ul>
<p><b>Note</b> : All these resources listed above have been provided in this tutorial, including the XSD file, which is the end-result of this configuration tutorial. </p>
<ul><li>To install the XSD file directly, jump to step <a href="#Install_the_Application-Specific_XSD_File"> Install the Application-Specific XSD File</a>.</li>
<li>To define a new CLI command by writing an XML file, converting and installing the resulting XSD file, perform the following steps:</li>
</ul>
</div>
<div class="section"><h3><a name="Describe_the_CLI_Command_in_XML">Describe the CLI Command in XML</a></h3>
<p>To define a CLI command for a onePK application, you write the command in an XML file based on the format used in the cli_ext_schema.xsd file. For this tutorial, the following XML file has been defined:</p>
<div class="source"><pre class="prettyprint">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!--
config
    app-category name &lt;name&gt;
 
    app-stats &lt;stat&gt;
          user user-count &lt;count&gt; 
          price amount &lt;amount&gt;
          

show 
          sh onep application cli_tutorial_app v0.2 &lt;config-domain&gt; [&lt;instance-name&gt;] app-category
          sh onep application cli_tutorial_app v0.2 &lt;config-domain&gt; [&lt;instance-name&gt;] statistics
          
--&gt;
&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;xml2xsd-convertor.xslt&quot;?&gt;
&lt;cli_ext:application app-name=&quot;cli_tutorial_app&quot; version=&quot;0.2&quot; description=&quot;Cli Extension Tutorial Application&quot; app-namespace-prefix=&quot;demo&quot; app-mode-prompt-prefix=&quot;demo&quot; app-namespace=&quot;http://www.cisco.com/demo_app&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:cli_ext=&quot;http://www.cisco.com/onep/cli_ext:0.1&quot; xsi:schemaLocation=&quot;http://www.cisco.com/onep/cli_ext:0.1 cli_ext_schema.xsd&quot;&gt;
  &lt;cli_ext:config-cmds&gt;
    &lt;cli_ext:scalar-cmd name=&quot;app_category_cmd&quot;&gt;
      &lt;cli_ext:keyword&gt;
        &lt;cli_ext:name&gt;app-category&lt;/cli_ext:name&gt;
        &lt;cli_ext:help&gt;config onep app category name&lt;/cli_ext:help&gt;
      &lt;/cli_ext:keyword&gt;
      &lt;cli_ext:param&gt;
                &lt;cli_ext:name&gt;name&lt;/cli_ext:name&gt;
                &lt;cli_ext:help&gt;string&lt;/cli_ext:help&gt;
                &lt;cli_ext:type&gt;
                                &lt;cli_ext:string/&gt;
                &lt;/cli_ext:type&gt;
          &lt;/cli_ext:param&gt;
    &lt;/cli_ext:scalar-cmd&gt;
     &lt;cli_ext:list-cmd name=&quot;app_stat_cmd&quot;&gt;
                &lt;cli_ext:param&gt;
                         &lt;cli_ext:name&gt;app-stats&lt;/cli_ext:name&gt;
                                &lt;cli_ext:help&gt;add app statistics&lt;/cli_ext:help&gt;
                                &lt;cli_ext:type&gt;
                                        &lt;cli_ext:string/&gt;
                                &lt;/cli_ext:type&gt;
                                &lt;/cli_ext:param&gt;
        &lt;cli_ext:mode mode-prompt=&quot;stat&quot;&gt;
        &lt;cli_ext:scalar-cmd name=&quot;users_cmd&quot;&gt;
                &lt;cli_ext:keyword&gt;
                        &lt;cli_ext:name&gt;users&lt;/cli_ext:name&gt;
                        &lt;cli_ext:help&gt;Number of users&lt;/cli_ext:help&gt;
                &lt;/cli_ext:keyword&gt;
                &lt;cli_ext:param&gt;
                        &lt;cli_ext:name&gt;count&lt;/cli_ext:name&gt;
                        &lt;cli_ext:help&gt;count&lt;/cli_ext:help&gt;
                        &lt;cli_ext:type&gt;
                                &lt;cli_ext:integer/&gt;
                        &lt;/cli_ext:type&gt;
                &lt;/cli_ext:param&gt;
                &lt;/cli_ext:scalar-cmd&gt;
                &lt;cli_ext:scalar-cmd name=&quot;price_cmd&quot;&gt;
                &lt;cli_ext:keyword&gt;
                        &lt;cli_ext:name&gt;price&lt;/cli_ext:name&gt;
                        &lt;cli_ext:help&gt;purchase price&lt;/cli_ext:help&gt;
                &lt;/cli_ext:keyword&gt;
                &lt;cli_ext:param&gt;
                        &lt;cli_ext:name&gt;amount&lt;/cli_ext:name&gt;
                        &lt;cli_ext:help&gt;number&lt;/cli_ext:help&gt;
                        &lt;cli_ext:type&gt;
                                &lt;cli_ext:integer/&gt;
                        &lt;/cli_ext:type&gt;
                &lt;/cli_ext:param&gt;
                &lt;/cli_ext:scalar-cmd&gt;
                &lt;/cli_ext:mode&gt;
                &lt;/cli_ext:list-cmd&gt;
  &lt;/cli_ext:config-cmds&gt;
  &lt;cli_ext:show-cmds&gt;
        &lt;cli_ext:exec-cmd name=&quot;show_category_cmd&quot;&gt;
                        &lt;cli_ext:keyword&gt;
                                &lt;cli_ext:name&gt;app-category&lt;/cli_ext:name&gt;
                                &lt;cli_ext:help&gt;show onep app's category name&lt;/cli_ext:help&gt;
                        &lt;/cli_ext:keyword&gt;
        &lt;/cli_ext:exec-cmd&gt;
        &lt;cli_ext:exec-cmd name=&quot;show_stat_cmd&quot;&gt;
                        &lt;cli_ext:keyword&gt;
                                &lt;cli_ext:name&gt;statistics&lt;/cli_ext:name&gt;
                                &lt;cli_ext:help&gt;onep app statistics&lt;/cli_ext:help&gt;
                        &lt;/cli_ext:keyword&gt;
        &lt;/cli_ext:exec-cmd&gt;
  &lt;/cli_ext:show-cmds&gt;
  
  &lt;cli_ext:exec-cmds&gt;
                &lt;cli_ext:exec-cmd name=&quot;clear_stat_cmd&quot;&gt;
                        &lt;cli_ext:keyword&gt;
                                &lt;cli_ext:name&gt;clear&lt;/cli_ext:name&gt;
                                &lt;cli_ext:help&gt;clear&lt;/cli_ext:help&gt;
                        &lt;/cli_ext:keyword&gt;
                        &lt;cli_ext:keyword&gt;
                                &lt;cli_ext:name&gt;statistics&lt;/cli_ext:name&gt;
                                &lt;cli_ext:help&gt;statistics&lt;/cli_ext:help&gt;
                        &lt;/cli_ext:keyword&gt;
                
                &lt;/cli_ext:exec-cmd&gt;
        &lt;/cli_ext:exec-cmds&gt;
&lt;/cli_ext:application&gt;</pre>
</div>
</div>
<div class="section"><h3><a name="Validate_the_XML_file">Validate the XML file</a></h3>
<p>This is a manual step. You will need to validate your XML file against the cli_ext_schema.xsd file, ensuring that your command definition follows the XSD format. You can use any tool to validate your XML; the following example shows how to use <a href="http://xmlsoft.org/xmllint.html" class="externalLink">xmllint</a> on the command line:</p>
<div class="source"><pre class="prettyprint">xmllint -noout -schema cli_ext_schema.xsd cli_ext_tutorial_app.xml</pre>
</div>
</div>
<div class="section"><h3><a name="Convert_XML_to_XSD">Convert XML to XSD</a></h3>
<p>Make sure your XML and XSLT (xml2xsd-convertor.xslt) files are present in same location. Then open the XML file in a browser and the XML file is converted to the XSD file format. Save this XSD file. The one used for this tutorial is &quot;cli_ext_tutorial_app.xsd&quot; shown below:</p>
<div class="source"><pre class="prettyprint">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;  xmlns=&quot;http://www.cisco.com/demo_app:0.2&quot; xmlns:demo=&quot;http://www.cisco.com/demo_app:0.2&quot; xmlns:cli_ext=&quot;http://www.cisco.com/onep/cli_ext:0.1&quot; targetNamespace=&quot;http://www.cisco.com/demo_app:0.2&quot; elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot;  xml:lang=&quot;en&quot;&gt;
    
    &lt;xs:import namespace=&quot;http://www.cisco.com/onep/cli_ext:0.1&quot; schemaLocation=&quot;cli_ext_schema.xsd&quot;/&gt;  
    &lt;xs:annotation&gt;
        &lt;xs:appinfo&gt;xslt version 0.1&lt;/xs:appinfo&gt;
        &lt;xs:documentation&gt;
      This schema was by cli-extension ssl.
    &lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    
    &lt;xs:element name=&quot;cli_tutorial_app&quot;&gt;
    &lt;xs:annotation&gt;
        &lt;xs:documentation&gt;Cli Extension Tutorial Application&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexType&gt;
        &lt;xs:sequence&gt;
    
    
     &lt;!--start config-cmds--&gt;
    &lt;xs:element name=&quot;config_data&quot; minOccurs=&quot;0&quot;&gt;
    &lt;xs:complexType&gt;
        &lt;xs:sequence&gt;
         
    
    &lt;xs:element name=&quot;node_info_cmd&quot; minOccurs=&quot;0&quot;&gt;
        &lt;xs:complexType&gt;
            &lt;xs:sequence&gt;
            
                
        &lt;xs:element name=&quot;no&quot; minOccurs=&quot;0&quot;&gt;
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;Negate a command or set a command's default&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
            &lt;xs:complexType/&gt;
        &lt;/xs:element&gt;
    
                
                &lt;xs:element name=&quot;node_info&quot; type=&quot;node_info_type&quot; /&gt;
              
            &lt;/xs:sequence&gt;
        &lt;/xs:complexType&gt;
    &lt;/xs:element&gt;
    
            &lt;xs:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
    
            &lt;xs:element name=&quot;app_category_cmd&quot;&gt;
                &lt;xs:complexType&gt;
                    &lt;xs:sequence&gt;
                        
        &lt;xs:element name=&quot;no&quot; minOccurs=&quot;0&quot;&gt;
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;Negate a command or set a command's default&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
            &lt;xs:complexType/&gt;
        &lt;/xs:element&gt;
    
        &lt;xs:element name=&quot;app-category&quot; &gt;
        
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;config onep app category name&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
        
            &lt;xs:complexType/&gt;
         &lt;/xs:element&gt; 
        
        &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot;&gt;
        
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;string&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt; 
        
         &lt;/xs:element&gt; 
         
        
                &lt;/xs:sequence&gt;
                
            &lt;/xs:complexType&gt;
        &lt;/xs:element&gt;
         

        &lt;!--start list-cmd app_stat_cmd--&gt;
        &lt;xs:element name=&quot;app_stat_cmd&quot; maxOccurs=&quot;unbounded&quot;&gt;
            &lt;xs:complexType&gt;
                &lt;xs:sequence&gt;
            
        &lt;xs:element name=&quot;no&quot; minOccurs=&quot;0&quot;&gt;
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;Negate a command or set a command's default&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
            &lt;xs:complexType/&gt;
        &lt;/xs:element&gt;
    
            &lt;xs:element name=&quot;app-stats&quot;&gt;
             
                &lt;xs:annotation&gt;
                    &lt;xs:documentation&gt;add app statistics&lt;/xs:documentation&gt;
                &lt;/xs:annotation&gt;
           
                &lt;xs:complexType&gt;
                    &lt;xs:simpleContent&gt;
                        &lt;xs:extension base=&quot;xs:string&quot;&gt;
                            &lt;xs:attribute name=&quot;key&quot; type=&quot;xs:boolean&quot; fixed=&quot;true&quot;/&gt;
                        &lt;/xs:extension&gt;
                    &lt;/xs:simpleContent&gt;
                &lt;/xs:complexType&gt;
                
       &lt;/xs:element&gt; 
           
              &lt;xs:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot; &gt;
             
            &lt;xs:element name=&quot;users_cmd&quot;&gt;
                &lt;xs:complexType&gt;
                    &lt;xs:sequence&gt;
                        
        &lt;xs:element name=&quot;no&quot; minOccurs=&quot;0&quot;&gt;
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;Negate a command or set a command's default&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
            &lt;xs:complexType/&gt;
        &lt;/xs:element&gt;
    
        &lt;xs:element name=&quot;users&quot; &gt;
        
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;Number of users&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
        
            &lt;xs:complexType/&gt;
         &lt;/xs:element&gt; 
        
        &lt;xs:element name=&quot;count&quot; type=&quot;xs:integer&quot;&gt;
        
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;count&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt; 
        
         &lt;/xs:element&gt; 
         
        
                &lt;/xs:sequence&gt;
                
            &lt;/xs:complexType&gt;
        &lt;/xs:element&gt;
         

            &lt;xs:element name=&quot;price_cmd&quot;&gt;
                &lt;xs:complexType&gt;
                    &lt;xs:sequence&gt;
                        
        &lt;xs:element name=&quot;no&quot; minOccurs=&quot;0&quot;&gt;
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;Negate a command or set a command's default&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
            &lt;xs:complexType/&gt;
        &lt;/xs:element&gt;
    
        &lt;xs:element name=&quot;price&quot; &gt;
        
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;purchase price&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
        
            &lt;xs:complexType/&gt;
         &lt;/xs:element&gt; 
        
        &lt;xs:element name=&quot;amount&quot; type=&quot;xs:integer&quot;&gt;
        
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;number&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt; 
        
         &lt;/xs:element&gt; 
         
        
                &lt;/xs:sequence&gt;
                
            &lt;/xs:complexType&gt;
        &lt;/xs:element&gt;
         
             
            &lt;/xs:choice&gt;
             
        
                    &lt;/xs:sequence&gt;
                    
                    &lt;xs:attribute name=&quot;mode_prompt&quot; type=&quot;xs:string&quot; default=&quot;stat&quot;/&gt;
                     
                &lt;/xs:complexType&gt;
            &lt;/xs:element&gt;
      
        
        
     &lt;!--end list-cmd app_stat_cmd--&gt;

            &lt;/xs:choice&gt;
        &lt;/xs:sequence&gt;      
    &lt;/xs:complexType&gt;
    &lt;/xs:element&gt;
     &lt;!--end config-cmds--&gt;

   
     &lt;xs:element name=&quot;exec&quot; minOccurs=&quot;0&quot;&gt;
        &lt;xs:complexType&gt;
            &lt;xs:sequence&gt;
                &lt;xs:choice maxOccurs=&quot;unbounded&quot;&gt;
                
                        &lt;xs:element name=&quot;node_info&quot; type=&quot;node_info_type&quot;/&gt;

    
     &lt;!--start show-cmds --&gt;
    
    &lt;xs:element name=&quot;show_category_cmd&quot; minOccurs=&quot;0&quot;&gt;
    &lt;xs:complexType&gt;
        &lt;xs:sequence&gt;
        
        &lt;xs:element name=&quot;show&quot;&gt;
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;Show running system information&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
            &lt;xs:complexType/&gt;
        &lt;/xs:element&gt;
    
        &lt;xs:element name=&quot;app-category&quot; &gt;
        
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;show onep app's category name&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
        
            &lt;xs:complexType/&gt;
         &lt;/xs:element&gt; 
        
       
       &lt;/xs:sequence&gt;      
    &lt;/xs:complexType&gt;
     &lt;/xs:element&gt;  
    
    &lt;xs:element name=&quot;show_stat_cmd&quot; minOccurs=&quot;0&quot;&gt;
    &lt;xs:complexType&gt;
        &lt;xs:sequence&gt;
        
        &lt;xs:element name=&quot;show&quot;&gt;
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;Show running system information&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
            &lt;xs:complexType/&gt;
        &lt;/xs:element&gt;
    
        &lt;xs:element name=&quot;statistics&quot; &gt;
        
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;onep app statistics&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
        
            &lt;xs:complexType/&gt;
         &lt;/xs:element&gt; 
        
       
       &lt;/xs:sequence&gt;      
    &lt;/xs:complexType&gt;
     &lt;/xs:element&gt;  
    
     &lt;!--end show-cmds --&gt;

     &lt;!--start exec-cmds--&gt;
    
    &lt;xs:element name=&quot;clear_stat_cmd&quot; minOccurs=&quot;0&quot;&gt;
    &lt;xs:complexType&gt;
        &lt;xs:sequence&gt;
       
        &lt;xs:element name=&quot;clear&quot; &gt;
        
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;clear&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
        
            &lt;xs:complexType/&gt;
         &lt;/xs:element&gt; 
        
        &lt;xs:element name=&quot;statistics&quot; &gt;
        
            &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;statistics&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
        
            &lt;xs:complexType/&gt;
         &lt;/xs:element&gt; 
        
       
       &lt;/xs:sequence&gt;      
    &lt;/xs:complexType&gt;
     &lt;/xs:element&gt;  
    
     &lt;!--end exec-cmds--&gt;

                 &lt;/xs:choice&gt;
            &lt;/xs:sequence&gt;
        &lt;/xs:complexType&gt;
     &lt;/xs:element&gt;

        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;version&quot; use=&quot;optional&quot; fixed=&quot;0.2&quot;/&gt;
        &lt;xs:attribute name=&quot;app-mode-prompt-prefix&quot; use=&quot;optional&quot; fixed=&quot;demo&quot;/&gt;
    &lt;/xs:complexType&gt;
    &lt;/xs:element&gt;
    
    &lt;xs:complexType name=&quot;node_info_type&quot;&gt;
        &lt;xs:sequence&gt;
            &lt;xs:element name=&quot;v0.2&quot;&gt;
                &lt;xs:annotation&gt;
                    &lt;xs:documentation&gt;application version&lt;/xs:documentation&gt;
                &lt;/xs:annotation&gt;
                &lt;xs:complexType/&gt;
            &lt;/xs:element&gt;
       
           &lt;xs:element name=&quot;config-domain&quot; type=&quot;xs:string&quot;&gt;
                &lt;xs:annotation&gt;
                    &lt;xs:documentation&gt;Identifies where the application is running&lt;/xs:documentation&gt;
                &lt;/xs:annotation&gt;
            &lt;/xs:element&gt;
            
            &lt;xs:element name=&quot;instance-name&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;&gt;
                &lt;xs:annotation&gt;
                    &lt;xs:documentation&gt;instance name&lt;/xs:documentation&gt;
                &lt;/xs:annotation&gt;
            &lt;/xs:element&gt;
        &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
    
    
    &lt;/xs:schema&gt;
    </pre>
</div>
</div>
<div class="section"><h3><a name="Using_Conversion_Tools_for_XML_-_XSD">Using Conversion Tools for XML -&gt; XSD</a></h3>
<p>Make sure your XML and XSLT (xml2xsd-convertor.xslt) files are present in same location. Use one of the following options to run the XSLT convertor tool on your XML file:</p>
<ul><li><b>Using <a href="http://www.altova.com/xml-editor/" class="externalLink">XMLSpy</a></b><ul><li>Open the xml2xsd-convertor.xslt file in XMLSpy.</li>
<li>Choose the menu option XSL/XSL Query -&gt; XSL Transformation</li>
<li>Choose the valid application XML file, in this case, cli_ext_tutorial_app.xml, then click OK.</li>
<li>Save the file to cli_ext_tutorial_app.xsd.</li>
</ul>
</li>
<li><b>Using a Browser</b><p>For all browsers: paste the following lines to the application XML file and replace the <b>href</b> with the correct location to the XSLT file if it is not in the same folder as the XML file.</p>
<p><b>&lt;?xml-stylesheet type=&quot;test/xsl&quot; href=&quot;xml2xsd-convertor.xslt&quot;?</b>&gt;</p>
<p>Then open the XML file in a browser and the XML file is converted to the XSD file format. Save this XSD file. The one used for this tutorial is &quot;cli_ext_tutorial_app.xsd&quot;</p>
<ul><li><b>Using Firefox</b><ul><li>Open the application XML file using the File menu.</li>
<li>Save to an <i>application-name</i>.xsd. file name.</li>
</ul>
</li>
<li><b>Using IE (v8.0)</b><ul><li>Open the application XML file using the File menu or use CRTL-O.</li>
<li>Choose Developer Tools from the Tools menu.</li>
<li>Choose Script. The XSD is shown on the left tab. Save to an <i>application-name</i>.xsd. file name.</li>
</ul>
</li>
<li><b>Using Chrome</b><ul><li>Run the Chrome application with the <b>allow file access from files</b> parameter <b>open Google/Chrome.app -- arg --allow-file-access-from-files</b>.</li>
<li>Open the XML file using the File menu.</li>
<li>Save to an <i>application-name</i>.xsd. file name. </li>
</ul>
</li>
<li><b>Running XSLT in a Webtool <a href="http://www.w3schools.com/xsl/tryxslt.asp?xmlfile-cdcatalog&amp;xsltfile=cdcatalog" class="externalLink">XSLT TryIt Editor</a></b><ul><li>Paste your XML and XSD data in the respective frames in the web page.</li>
<li>Use the Edit and Click Me button to display your results. </li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section"><h3><a name="Install_the_Application-Specific_XSD_File">Install the Application-Specific XSD File</a> </h3>
<p>To install the XSD file on your connected network element, copy the XSD file to the network element's filesystem. Then issue the following CLI commands:</p>
<div class="source"><pre class="prettyprint">Router#copy scp:&lt;path to xsd&gt; bootflash:&lt;file name&gt;</pre>
</div>
<p>After copying the file, issue an install CLI command so that the XSD file can be inserted into the network element's CLI tree. The install EXEC command syntax is as follows:</p>
<div class="source"><pre class="prettyprint">Router#onep install &lt;xsd-location&gt; &lt;config-domain&gt;</pre>
</div>
<p>For applications running in a local VM the <i>config-domain</i> is the VM's name. For applications running remotely, the <i>config-domain</i> is just a name, and thus it is the remote application that denotes (although it must match the local configuration) the domain in which group resides at connection time.</p>
<p>The command returns an error if the XSD file cannot be used to insert the CLI commands in the switch CLI tree. The new application CLIs are available on the connected device if the command is succesful. The XSD file can be removed from the device once the command succeeds. New commands are available even if the device reboots or if there is a switchover. </p>
<p>To determine which application CLIs have been installed, use the following show command:</p>
<div class="source"><pre class="prettyprint">Router#show onep cli-extensions applications</pre>
</div>
<p>You can use the following uninstall command to delete application CLI commands from the device. The uninstall EXEC command syntax is as follows:</p>
<div class="source"><pre class="prettyprint">Router#onep uninstall &lt;app-name&gt; &lt;app-version&gt; &lt;config-domain&gt;</pre>
</div>
<p>The application name and the version are retrieved from the application XSD file. The config_domain is the config-domain used in the XSD install. </p>
</div>
<div class="section"><h3><a name="Application-Specific_Commands_Usage">Application-Specific Commands Usage</a></h3>
<p>All application CLI commands are inserted into an application-specific submode. An example of how a CLI command definition is displayed is as follows:</p>
<div class="source"><pre class="prettyprint">config t
  onep applications domain1
    cli_tutorial_app v0.2 instance1
    app-category name routing
    app-stats routing-stats
    users user-count 20
    price amount 1

show command:
sh onep application cli_tutorial_app v0.2 domain1 instance1 app-category</pre>
</div>
</div>
</div>
<div class="section"><h2><a name="Result">Result</a></h2>
<p>Congratulations! You have now completed the configuration required to run Application CLI Extension applications and are now ready to run the <a href="./applicationmanageddatatutorial.html">Application CLI Extension Tutorial</a>.</p>
</div>
<div class="section"><h2><a name="Next_Steps">Next Steps</a> </h2>
<ul><li><a href="../Discovery/discovery.html">Discovery</a> </li>
<li><a href="../NetworkInterface/networkinterface.html">Network Interface</a></li>
<li><a href="../SessionTutorial/SessionTutorials.html">Session Handling</a></li>
<li><a href="../Topology/topology.html">Topology</a></li>
<li><a href="../Policy/policy.html">Policy</a></li>
<li><a href="../Routing/routing.html">Routing</a></li>
<li><a href="../VTYTutorial/vty.html">VTY</a> </li>
</ul>
</div>

                  </div>
            </div>
      
    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2014.
          All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
